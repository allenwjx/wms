<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE table SYSTEM "http://sources.jungle.net/svn/dtd/table-config-1.0.dtd">

<table sqlname="express_order">
	<!-- 不需要配置的列请删除 -->
	
	<sql id="ExpressOrder.columns">
		id, order_no, other_order_no, code, type, status, sender_name, sender_tel, sender_province, sender_city, sender_region, sender_address_detail, sender_zip_code, receiver_name, receiver_tel, receiver_province, receiver_city, receiver_region, receiver_address_detail, receiver_zip_code, express_type, total_price, gmt_create, gmt_modified, create_by, modify_by
	</sql>
	
	<operation name="insert" paramtype="object">
		<sql>
			INSERT INTO express_order (
	        	id ,order_no ,other_order_no ,code ,status ,sender_name ,sender_tel ,sender_province ,sender_city ,sender_region ,sender_address_detail ,sender_zip_code ,receiver_name ,receiver_tel ,receiver_province ,receiver_city ,receiver_region ,receiver_address_detail ,receiver_zip_code ,express_type ,total_price ,gmt_create ,gmt_modified ,create_by ,modify_by 
	        ) VALUES (
	        	? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,? ,CURRENT_TIMESTAMP ,CURRENT_TIMESTAMP ,? ,?
	        )
		</sql>		
	</operation>

	<operation name="delete">
		<sql>
	        DELETE FROM express_order WHERE
	        id = ? 
		</sql>
	</operation>
	
	<operation name="update" paramtype="object">
		<sql>
	        UPDATE express_order SET
		        order_no = ? ,other_order_no = ? ,code = ? ,status = ? ,sender_name = ? ,sender_tel = ? ,sender_province = ? ,sender_city = ? ,sender_region = ? ,sender_address_detail = ? ,sender_zip_code = ? ,receiver_name = ? ,receiver_tel = ? ,receiver_province = ? ,receiver_city = ? ,receiver_region = ? ,receiver_address_detail = ? ,receiver_zip_code = ? ,express_type = ? ,total_price = ? ,gmt_modified = CURRENT_TIMESTAMP ,create_by = ? ,modify_by = ?
	        WHERE 
	        	id = ? 
		</sql>					
	</operation>

	<operation name="queryById" multiplicity="one">
		<sql>
	    	SELECT
		    <include refid="ExpressOrder.columns"/>
	        FROM express_order 
	        WHERE 
		        id = ? 
		</sql>
	</operation>

	
	<operation name="findPage" paramtype="parameterObject" multiplicity="paging">
		<sql>
			SELECT 
			<include refid="ExpressOrder.columns"/>
			FROM express_order
			WHERE 1=1
			<dynamic>
                <isNotEmpty prepend="AND" property="orderNo">
                    order_no = #orderNo#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="otherOrderNo">
                    other_order_no = #otherOrderNo#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="code">
                    code = #code#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="type">
                    type = #type#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="status">
                    status = #status#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="receiverName">
                    receiver_name like concat('%',#receiverName#,'%')
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="receiverTel">
                    receiver_tel = #receiverTel#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="expressType">
                    express_type = #expressType#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="fromDate">
                    <![CDATA[
                        gmt_create >= #fromDate#
                    ]]>
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="toDate">
                    <![CDATA[
                        gmt_create <= #toDate#
                    ]]>
                </isNotEmpty>
			</dynamic>
		</sql>
	</operation>

	<operation name="getAllByPars" paramtype="parameterObject" multiplicity="many">
		<sql>
			SELECT
			<include refid="ExpressOrder.columns"/>
			FROM express_order
			WHERE 1=1
			<dynamic>
				<isNotEmpty prepend="AND" property="orderNo">
					order_no = #orderNo#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="otherOrderNo">
					other_order_no = #otherOrderNo#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="code">
					code = #code#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="type">
					type = #type#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="status">
					status = #status#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="receiverName">
					receiver_name like concat('%',#receiverName#,'%')
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="receiverTel">
					receiver_tel = #receiverTel#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="expressType">
					express_type = #expressType#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="fromDate">
					<![CDATA[
                        gmt_create >= #fromDate#
                    ]]>
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="toDate">
					<![CDATA[
                        gmt_create <= #toDate#
                    ]]>
				</isNotEmpty>
			</dynamic>
		</sql>
	</operation>

</table>
